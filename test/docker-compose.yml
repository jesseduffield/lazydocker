services:
  my-service:
    build:
      dockerfile: Dockerfile
      context: .
    command: /app/print-random-stuff.sh
    depends_on:
      - my-service2
    ports:
      - 123:321

  my-service2:
    build:
      dockerfile: Dockerfile
      context: .
    command: /app/print-random-stuff.sh
    ports:
      - 12345:12345

  my-service3:
    build:
      dockerfile: Dockerfile
      context: .
    command: /app/print-random-stuff.sh

  my-service4-prof1:
    build:
      dockerfile: Dockerfile
      context: .
    command: /app/print-random-stuff.sh
    profiles:
      - prof1

  my-service5-prof1:
    build:
      dockerfile: Dockerfile
      context: .
    command: /app/print-random-stuff.sh
    profiles:
      - prof1

  my-service6-prof2:
    build:
      dockerfile: Dockerfile
      context: .
    command: /app/print-random-stuff.sh
    profiles:
      - prof2

  my-service7-prof3:
    build:
      dockerfile: Dockerfile
      context: .
    command: /app/print-random-stuff.sh
    profiles:
      - prof3      

  my-service8-prof12:
    build:
      dockerfile: Dockerfile
      context: .
    command: /app/print-random-stuff.sh
    profiles:
      - prof1
      - prof2      

  my-service9-prof123:
    build:
      dockerfile: Dockerfile
      context: .
    command: /app/print-random-stuff.sh
    profiles:
      - prof1
      - prof2
      - prof3      
